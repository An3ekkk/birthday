<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DTC Route Information System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<nav class="navbar navbar-dark bg-dark">
    <div class="container-fluid">
        <span class="navbar-brand mb-0 h1">DTC Route Information System</span>
    </div>
</nav>

<div class="container mt-5">
    <h3 class="text-center mb-4">Search Bus Routes</h3>

    <div class="card p-4">
        <div class="row g-3">
            <div class="col-md-6">
                <label class="form-label">Search by Route Number</label>
                <input type="text" id="routeNo" class="form-control" placeholder="e.g. 543">
            </div>

            <div class="col-md-6 d-flex align-items-end">
                <button class="btn btn-primary w-100" onclick="searchByRoute()">Search</button>
            </div>

            <div class="col-md-6">
                <label class="form-label">Source Stop</label>
                <input type="text" id="source" class="form-control" placeholder="e.g. ISBT">
            </div>

            <div class="col-md-6">
                <label class="form-label">Destination Stop</label>
                <input type="text" id="destination" class="form-control" placeholder="e.g. Nehru Place">
            </div>

            <div class="col-md-12">
                <button class="btn btn-success w-100" onclick="searchByStops()">Search by Stops</button>
            </div>
        </div>
    </div>
</div>

<script src="js/app.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Route Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="container mt-5">
    <h3 class="mb-4">Route Details</h3>

    <table class="table table-bordered">
        <thead class="table-dark">
            <tr>
                <th>Route No</th>
                <th>Source</th>
                <th>Destination</th>
                <th>Frequency</th>
                <th>Fare</th>
            </tr>
        </thead>
        <tbody id="routeTable">
        </tbody>
    </table>

    <a href="index.html" class="btn btn-secondary">Back</a>
</div>

<script src="js/app.js"></script>
</body>
</html>
body {
    background-color: #f4f6f8;
}

h3 {
    font-weight: 600;
}

.card {
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

table {
    background-color: white;
}
// Temporary static data (replace with backend API later)
const routes = [
    {
        routeNo: "543",
        source: "ISBT",
        destination: "Nehru Place",
        frequency: "Every 15 mins",
        fare: "₹20"
    },
    {
        routeNo: "234",
        source: "Anand Vihar",
        destination: "Karol Bagh",
        frequency: "Every 20 mins",
        fare: "₹15"
    }
];

function searchByRoute() {
    const routeNo = document.getElementById("routeNo").value;
    const result = routes.filter(r => r.routeNo === routeNo);

    localStorage.setItem("results", JSON.stringify(result));
    window.location.href = "routes.html";
}

function searchByStops() {
    const source = document.getElementById("source").value.toLowerCase();
    const destination = document.getElementById("destination").value.toLowerCase();

    const result = routes.filter(r =>
        r.source.toLowerCase().includes(source) &&
        r.destination.toLowerCase().includes(destination)
    );

    localStorage.setItem("results", JSON.stringify(result));
    window.location.href = "routes.html";
}

function loadRoutes() {
    const table = document.getElementById("routeTable");
    if (!table) return;

    const data = JSON.parse(localStorage.getItem("results")) || [];

    data.forEach(route => {
        const row = `
            <tr>
                <td>${route.routeNo}</td>
                <td>${route.source}</td>
                <td>${route.destination}</td>
                <td>${route.frequency}</td>
                <td>${route.fare}</td>
            </tr>
        `;
        table.innerHTML += row;
    });
}

loadRoutes();
